sudo: required

services:
  - docker

# It is not really needed, other than for showing correct language tag in Travis CI build log.
language: python

env:
  matrix:
    - PYTHON_VER: "3.5"
    - PYTHON_VER: "3.6"

before_install:
  - docker run -d --name ubuntu-test -v $(pwd):/travis ubuntu:latest tail -f /dev/null
  - docker ps

install:
  - docker exec ubuntu-test bash -c "apt-get update;
    apt-get install -y software-properties-common python-software-properties;
    add-apt-repository ppa:fkrull/deadsnakes;
    apt-get update;
    apt-get install -y python$PYTHON_VER python$PYTHON_VER-dev"

script:
  - docker exec ubuntu-test bash -c "cd /travis;
    python$PYTHON_VER test.py"
notifications:
    email: false
